// @ts-ignore
import sass from "!!css-loader!sass-loader!../styles/NavLogo.scss";
import { ReactiveElement } from "../../../plugins/ReactiveElement/ReactiveElementLib";
import DefineComponent from "../../../plugins/ReactiveElement/Decorators/DefineComponent";
import NavLinks from "./NavLinks";

export interface NavLogoProps {
  logo: string;
}

@DefineComponent({
  tag: "nav-logo",
  template: /*html*/`
    <div class="nav__logo">
      <svg xmlns="http://www.w3.org/2000/svg" width="34" height="56" viewBox="0 0 34 56" fill="none">
        <path d="M18.3497 55.062C15.385 55.062 12.9823 53.0335 12.9823 50.5303V41.9573C16.533 42.5727 20.168 42.5727 23.7186 41.9573V50.5317C23.7186 53.0335 21.3144 55.062 18.3497 55.062Z" fill="#B3B3B3" />
        <path d="M29.7666 22.7057C31.2593 23.3487 32.479 24.4698 33.2214 25.8813C33.9638 27.2929 34.1838 28.9091 33.8447 30.4593C33.5055 32.0095 32.6276 33.3995 31.3582 34.3965C30.0888 35.3935 28.5049 35.937 26.8717 35.9359H10.5078C8.87464 35.937 7.29071 35.3935 6.02129 34.3965C4.75187 33.3995 3.87405 32.0095 3.53486 30.4593C3.19567 28.9091 3.41571 27.2929 4.15812 25.8813C4.90054 24.4698 6.12024 23.3487 7.61293 22.7057C6.6592 21.7575 6.00629 20.5633 5.7319 19.2653C5.45751 17.9673 5.5732 16.6201 6.06519 15.3841C6.55719 14.1481 7.40477 13.0752 8.50709 12.2933C9.60941 11.5113 10.92 11.053 12.283 10.9731C11.7749 10.0078 11.5104 8.93921 11.5114 7.85528C11.5866 6.06901 12.3707 4.38016 13.6998 3.14208C15.0289 1.90401 16.7998 1.21265 18.6422 1.21265C20.4845 1.21265 22.2555 1.90401 23.5846 3.14208C24.9136 4.38016 25.6978 6.06901 25.773 7.85528C25.774 8.93921 25.5095 10.0078 25.0013 10.9731C26.3749 11.0314 27.7017 11.4747 28.8212 12.2494C29.9406 13.0241 30.8047 14.0969 31.309 15.3381C31.8133 16.5793 31.9361 17.9358 31.6627 19.2433C31.3892 20.5508 30.7311 21.7535 29.7681 22.7057H29.7666Z" fill="#71AA0E" />
        <path d="M16.2796 48.4094C16.0237 48.4094 15.7783 48.3107 15.5973 48.1351C15.4164 47.9595 15.3147 47.7214 15.3147 47.473V19.4111C15.3147 19.1624 15.4165 18.9239 15.5978 18.748C15.779 18.5721 16.0248 18.4733 16.2811 18.4733C16.5374 18.4733 16.7833 18.5721 16.9645 18.748C17.1457 18.9239 17.2476 19.1624 17.2476 19.4111V47.473C17.2476 47.5962 17.2225 47.7182 17.1738 47.832C17.1251 47.9458 17.0538 48.0492 16.9639 48.1361C16.874 48.2231 16.7672 48.292 16.6498 48.3389C16.5324 48.3858 16.4066 48.4098 16.2796 48.4094Z" fill="white" />
        <path d="M16.1963 30.3064C16.0123 30.3071 15.8319 30.2568 15.6764 30.1613C15.5209 30.0659 15.3968 29.9293 15.3186 29.7676C15.2405 29.606 15.2116 29.426 15.2354 29.249C15.2592 29.0719 15.3346 28.9052 15.4528 28.7684L22.0246 21.1722C22.106 21.0774 22.2059 20.9992 22.3185 20.9419C22.431 20.8846 22.5541 20.8494 22.6808 20.8383C22.8074 20.8272 22.935 20.8404 23.0563 20.8771C23.1777 20.9138 23.2904 20.9734 23.388 21.0524C23.4856 21.1314 23.5663 21.2283 23.6253 21.3376C23.6844 21.4468 23.7206 21.5663 23.7321 21.6891C23.7436 21.812 23.73 21.9358 23.6921 22.0536C23.6542 22.1713 23.5928 22.2807 23.5114 22.3754L16.9397 29.9731C16.8486 30.0782 16.7348 30.1626 16.6063 30.2202C16.4778 30.2778 16.3378 30.3072 16.1963 30.3064Z" fill="white" />
        <path d="M16.3517 30.3078C16.21 30.3085 16.0699 30.2789 15.9414 30.221C15.813 30.1632 15.6992 30.0785 15.6082 29.9731L9.04541 22.374C8.88098 22.1827 8.8016 21.9358 8.82474 21.6877C8.84789 21.4396 8.97165 21.2106 9.16882 21.051C9.36598 20.8915 9.6204 20.8144 9.87609 20.8369C10.1318 20.8594 10.3678 20.9795 10.5322 21.1708L17.0862 28.7698C17.2044 28.9067 17.2798 29.0734 17.3036 29.2505C17.3274 29.4275 17.2985 29.6075 17.2204 29.7691C17.1422 29.9308 17.0181 30.0674 16.8626 30.1628C16.7071 30.2583 16.5267 30.3086 16.3427 30.3078H16.3517Z" fill="white" />
        <path d="M16.2756 56C14.5963 55.9985 12.9861 55.3504 11.7987 54.1981C10.6112 53.0458 9.94335 51.4834 9.94177 49.8538V41.9575C9.94147 41.82 9.97235 41.684 10.0322 41.5594C10.0921 41.4347 10.1795 41.3244 10.2882 41.2361C10.3969 41.1489 10.5237 41.0856 10.66 41.0505C10.7963 41.0154 10.9388 41.0093 11.0777 41.0327L12.1601 41.2202C14.882 41.6948 17.6693 41.6948 20.3912 41.2202L21.4736 41.0327C21.6125 41.0086 21.7551 41.0144 21.8914 41.0497C22.0278 41.0849 22.1545 41.1487 22.2626 41.2366C22.3708 41.3245 22.4578 41.4344 22.5174 41.5584C22.5771 41.6825 22.608 41.8177 22.608 41.9546V49.8509C22.6072 51.4808 21.94 53.0437 20.7527 54.1966C19.5655 55.3495 17.9553 55.9981 16.2756 56ZM11.8717 43.0771V49.8581C11.8717 50.9913 12.3356 52.0781 13.1613 52.8794C13.9871 53.6807 15.1071 54.1309 16.2749 54.1309C17.4427 54.1309 18.5627 53.6807 19.3884 52.8794C20.2142 52.0781 20.6781 50.9913 20.6781 49.8581V43.0771C17.7653 43.5786 14.7843 43.5782 11.8717 43.0757V43.0771Z" fill="white" />
        <path d="M24.4596 36.8715C23.2618 36.8773 22.0785 36.6177 20.9997 36.1126C20.8857 36.0587 20.7837 35.9835 20.6996 35.8913C20.6156 35.7992 20.551 35.6919 20.5096 35.5755C20.4683 35.4592 20.451 35.3361 20.4587 35.2132C20.4663 35.0903 20.4989 34.9702 20.5544 34.8595C20.61 34.7489 20.6874 34.6499 20.7824 34.5683C20.8774 34.4867 20.988 34.4241 21.1079 34.3839C21.2278 34.3438 21.3546 34.327 21.4813 34.3345C21.6079 34.3419 21.7317 34.3735 21.8457 34.4274C22.6624 34.8107 23.5584 35.0081 24.4655 35.0045C25.8784 35.0071 27.2492 34.538 28.3479 33.6761C29.4466 32.8142 30.2064 31.6118 30.4998 30.2707C30.7932 28.9295 30.6023 27.5313 29.9592 26.3106C29.3161 25.0898 28.2599 24.1209 26.9678 23.5662C26.8258 23.5047 26.7013 23.4109 26.6047 23.2926C26.5081 23.1743 26.4424 23.0352 26.4132 22.887C26.384 22.7388 26.3922 22.5859 26.437 22.4414C26.4818 22.2969 26.5619 22.1651 26.6705 22.0571C27.5034 21.234 28.0726 20.1942 28.3092 19.0637C28.5458 17.9332 28.4397 16.7603 28.0036 15.6872C27.5675 14.614 26.8202 13.6865 25.8521 13.0169C24.884 12.3473 23.7367 11.9643 22.549 11.9144C22.3879 11.9071 22.2312 11.8607 22.0933 11.7795C21.9554 11.6983 21.8407 11.5849 21.7597 11.4495C21.6786 11.3142 21.6338 11.1613 21.6294 11.0048C21.6249 10.8484 21.661 10.6933 21.7342 10.5539C22.1744 9.72087 22.4028 8.79777 22.4003 7.86166C22.4003 6.27482 21.7507 4.75298 20.5944 3.63092C19.4381 2.50886 17.8698 1.87849 16.2345 1.87849C14.5992 1.87849 13.0309 2.50886 11.8746 3.63092C10.7182 4.75298 10.0686 6.27482 10.0686 7.86166C10.0662 8.79777 10.2946 9.72087 10.7347 10.5539C10.8076 10.6923 10.8438 10.8461 10.8401 11.0014C10.8364 11.1568 10.7929 11.3088 10.7135 11.4438C10.6342 11.5788 10.5214 11.6925 10.3855 11.7747C10.2495 11.8568 10.0947 11.9048 9.93481 11.9144C8.75647 11.9834 7.62335 12.3794 6.67028 13.0553C5.7172 13.7312 4.98427 14.6586 4.55871 15.727C4.13315 16.7955 4.03286 17.9601 4.26978 19.0823C4.5067 20.2045 5.07085 21.2371 5.89511 22.0571C6.00404 22.1651 6.08443 22.297 6.1294 22.4417C6.17438 22.5863 6.18261 22.7394 6.1534 22.8878C6.12418 23.0362 6.05838 23.1756 5.96162 23.294C5.86487 23.4123 5.74002 23.5063 5.59775 23.5677C4.30567 24.1223 3.24948 25.0913 2.60639 26.312C1.9633 27.5328 1.77243 28.931 2.06582 30.2721C2.35922 31.6132 3.11901 32.8156 4.21772 33.6775C5.31643 34.5395 6.68721 35.0085 8.10007 35.006C9.00721 35.0096 9.90324 34.8122 10.7198 34.4288C10.8344 34.3712 10.9596 34.3363 11.0882 34.3264C11.2169 34.3165 11.3462 34.3318 11.4687 34.3712C11.5911 34.4107 11.7042 34.4736 11.8011 34.5562C11.8981 34.6388 11.977 34.7394 12.0332 34.8521C12.0893 34.9648 12.1217 35.0873 12.1282 35.2123C12.1348 35.3374 12.1154 35.4624 12.0713 35.5801C12.0272 35.6977 11.9592 35.8056 11.8713 35.8973C11.7835 35.989 11.6776 36.0627 11.5599 36.114C10.4812 36.6192 9.29784 36.8788 8.10007 36.8729C6.35253 36.8757 4.65107 36.3291 3.25049 35.3149C1.84991 34.3007 0.825558 32.8736 0.330829 31.2472C-0.163901 29.6208 -0.102387 27.8827 0.506157 26.2931C1.1147 24.7034 2.23753 23.3479 3.70651 22.4293C2.93446 21.3757 2.4424 20.1535 2.274 18.8711C2.10559 17.5887 2.26606 16.2858 2.74115 15.078C3.21625 13.8702 3.99128 12.7949 4.99744 11.9476C6.00361 11.1002 7.2098 10.507 8.50895 10.2206C8.25801 9.45604 8.1311 8.65828 8.13278 7.85589C8.13278 5.77238 8.98572 3.7742 10.504 2.30094C12.0222 0.827672 14.0814 0 16.2285 0C18.3757 0 20.4348 0.827672 21.9531 2.30094C23.4713 3.7742 24.3243 5.77238 24.3243 7.85589C24.3262 8.65313 24.2014 9.44589 23.9541 10.2062C25.2659 10.4769 26.4877 11.0603 27.5092 11.9036C28.5307 12.7469 29.3198 13.8237 29.8054 15.0368C30.2911 16.25 30.4579 17.5613 30.2908 18.8526C30.1238 20.1439 29.6282 21.3746 28.8487 22.4336C30.3166 23.3522 31.4387 24.7074 32.0468 26.2963C32.655 27.8852 32.7167 29.6225 32.2226 31.2482C31.7285 32.874 30.7053 34.3008 29.3059 35.3152C27.9065 36.3297 26.2063 36.8771 24.4596 36.8758V36.8715Z" fill="white" />
      </svg>
      <a class="nav__logo-link ml-6" href="/" ref="logo-link" ref-data="logo" is-route></a>
    </div>
  `
})
export default class NavLogo extends ReactiveElement {
  constructor(props: NavLogoProps) {
    super({
      styles: {
        sass,
        links: ["margins"]
      },
      animations: {
        setOpacityAnimation: true
      },
      shadowDOM: true,
      props
    });

    this.props = props;
  }

  public data: {} = {
    logo: this.props["logo"] ?? this.getAttribute("logo")
  }

  public events() {
    this.eventHandler.subscribe("logo-link", "logo-link-click-event", "click", this.preventDefault);
  }

  public preventDefault(event: any): void {
    event.preventDefault();
    this.sharedState.getComponent("nav-links")
      .then((navLinks: NavLinks) => navLinks.navigateTo("/"))
      .catch((err) => console.error(err));
  }
}
